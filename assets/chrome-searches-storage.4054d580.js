const s=async()=>{let e=[];const a=await chrome.storage.sync.get(["savedSearches"]);return!!a&&a.savedSearches&&a.savedSearches.length>0?e=a.savedSearches:await chrome.storage.sync.set({savedSearches:[]}),e},l=async()=>{let e=".nl";const a=await chrome.storage.sync.get("vintedDomain");return a.vintedDomain?e=a.vintedDomain:await chrome.storage.sync.set({vintedDomain:".nl"}),e},d=async e=>{await chrome.storage.sync.set({vintedDomain:e})},u=async()=>{let e=!1;const a=await chrome.storage.sync.get("replaceDefaultSavedSearch");return a?e=a.replaceDefaultSavedSearch:await chrome.storage.sync.set({replaceDefaultSavedSearch:!1}),e},i=async(e,a)=>{const t=a.findIndex(o=>o.query===e.query);return a.splice(t,1),await n(a),await s()},n=async e=>{await chrome.storage.sync.set({savedSearches:e})},y=async e=>{await chrome.storage.sync.set({replaceDefaultSavedSearch:e})},h=async(e,a)=>{let t="";if(e.query)t=r(e.query);else return;return a||(a=await s()),a.push({query:t,description:e.description}),await n(a),a};function r(e){const a=/catalog\?(.*)/,t=e.match(a);return`catalog?${(t==null?void 0:t.length)>0?t[t.length-1]:null}`}async function g(e){const a=await s(),t=r(e);i({description:"",query:t},a)}export{h as a,s as b,y as c,l as d,i as e,u as g,g as r,d as s,n as u};
