const c=async()=>{let e=[];const a=await chrome.storage.sync.get(["savedSearches"]);return!!a&&a.savedSearches&&a.savedSearches.length>0?e=a.savedSearches:await chrome.storage.sync.set({savedSearches:[]}),e},i=async()=>{let e=".nl";const a=await chrome.storage.sync.get("vintedDomain");return a.vintedDomain?e=a.vintedDomain:await chrome.storage.sync.set({vintedDomain:".nl"}),e},l=async e=>{await chrome.storage.sync.set({vintedDomain:e})},d=async()=>{let e=!0;const a=await chrome.storage.sync.get("replaceDefaultSavedSearch");return a?e=a.replaceDefaultSavedSearch:await chrome.storage.sync.set({replaceDefaultSavedSearch:!0}),e},u=async(e,a)=>{const t=a.findIndex(o=>o.query===e.query);return a.splice(t,1),await n(a),await c()},n=async e=>{await chrome.storage.sync.set({savedSearches:e})},y=async e=>{await chrome.storage.sync.set({replaceDefaultSavedSearch:e})},h=async(e,a)=>{let t="";if(e.query)t=r(e.query);else return;return a||(a=await c()),a.push({query:t,description:e.description}),await n(a),a};function r(e){const a=/catalog\?(.*)/,t=e.match(a);let s=(t==null?void 0:t.length)>0?t[t.length-1]:null;return s=s.replace(/time(.+?(&))/,""),s=s.replace(/page(.+[0-9])/,""),`catalog?${s}`}const g=async e=>(await c()).map(({query:s})=>s).includes(r(e));export{h as a,c as b,g as c,y as d,i as e,d as g,u as r,l as s,n as u};
