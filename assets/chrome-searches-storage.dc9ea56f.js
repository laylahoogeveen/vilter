const t=async()=>{let a=[];const e=await chrome.storage.sync.get(["savedSearches"]);return!!e&&e.savedSearches&&e.savedSearches.length>0?a=e.savedSearches:await chrome.storage.sync.set({savedSearches:[]}),a},i=async()=>{let a=!1;const e=await chrome.storage.sync.get("replaceDefaultSavedSearch");return e?a=e.replaceDefaultSavedSearch:await chrome.storage.sync.set({replaceDefaultSavedSearch:!1}),a},l=async(a,e)=>{const s=e.findIndex(o=>o.query===a.query);return e.splice(s,1),await r(e),await t()},r=async a=>{await chrome.storage.sync.set({savedSearches:a})},u=async a=>{await chrome.storage.sync.set({replaceDefaultSavedSearch:a})},y=async(a,e)=>{let s="";if(a.query)s=c(a.query);else return;return e||(e=await t()),e.push({query:s,description:a.description}),await r(e),e};function c(a){const e=/catalog\?(.*)/,s=a.match(e);return`catalog?${(s==null?void 0:s.length)>0?s[s.length-1]:null}`}async function h(a){const e=await t(),s=c(a);l({description:"",query:s},e)}export{y as a,t as b,u as c,l as d,i as g,h as r,r as u};
